#!/usr/bin/env python3\n\"\"\"\nTest TTS Simple - Phase 3 ValidÃ©e\nğŸš¨ CONFIGURATION GPU: RTX 3090 (CUDA:1) OBLIGATOIRE\n\"\"\"\n\nimport os\nimport sys\nimport asyncio\nimport time\n\n# =============================================================================\n# ğŸš¨ CONFIGURATION CRITIQUE GPU - RTX 3090 UNIQUEMENT \n# =============================================================================\nos.environ['CUDA_VISIBLE_DEVICES'] = '1'        # RTX 3090 24GB EXCLUSIVEMENT\nos.environ['CUDA_DEVICE_ORDER'] = 'PCI_BUS_ID'  # Ordre stable des GPU\nos.environ['PYTORCH_CUDA_ALLOC_CONF'] = 'max_split_size_mb:1024'  # Optimisation mÃ©moire\n\nprint(\"ğŸ® GPU Configuration: RTX 3090 (CUDA:1) forcÃ©e\")\nprint(f\"ğŸ”’ CUDA_VISIBLE_DEVICES: {os.environ.get('CUDA_VISIBLE_DEVICES')}\")\n\n# Imports\nsys.path.insert(0, '.')\nfrom TTS.tts_manager import UnifiedTTSManager\n\nasync def main():\n    print(\"\\nğŸ¯ TEST TTS SIMPLE - PHASE 3\")\n    print(\"=\" * 40)\n    \n    # Configuration simple\n    config = {}\n    \n    try:\n        print(\"ğŸ”§ Initialisation TTS...\")\n        tts = UnifiedTTSManager(config)\n        print(\"âœ… TTS initialisÃ©\")\n        \n        # Test synthÃ¨se\n        text = \"Bonjour, test SuperWhisper V6\"\n        print(f\"ğŸ—£ï¸ SynthÃ¨se: '{text}'\")\n        \n        start = time.perf_counter()\n        result = await tts.synthesize(text)\n        latency = (time.perf_counter() - start) * 1000\n        \n        print(f\"\\nğŸ“Š RÃ‰SULTATS:\")\n        print(f\"âœ… SuccÃ¨s: {result.success}\")\n        print(f\"ğŸ”§ Backend: {result.backend_used}\")\n        print(f\"â±ï¸ Latence: {latency:.1f}ms\")\n        \n        if result.audio_data:\n            print(f\"ğŸ”Š Audio: {len(result.audio_data)} bytes\")\n            \n            # Validation humaine simple\n            if result.backend_used != 'cache':\n                print(\"ğŸŠ TTS FONCTIONNE - Backend rÃ©el utilisÃ©\")\n                return True\n            else:\n                print(\"âš ï¸ Cache utilisÃ© - Pas de synthÃ¨se rÃ©elle\")\n                return False\n        else:\n            print(\"âŒ Pas d'audio gÃ©nÃ©rÃ©\")\n            return False\n            \n    except Exception as e:\n        print(f\"âŒ Erreur: {e}\")\n        return False\n    finally:\n        if 'tts' in locals():\n            await tts.cleanup()\n\nif __name__ == \"__main__\":\n    success = asyncio.run(main())\n    print(f\"\\nğŸ¯ RÃ©sultat: {'SUCCÃˆS' if success else 'Ã‰CHEC'}\")\n 